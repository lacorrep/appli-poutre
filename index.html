<!DOCTYPE html>
<html lang="fr">
<head>
	<title>Théorie des poutres</title>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" href="img/favicon.png">

	<!-- jQuery & jQueryUI -->
	<!-- J'ai fait des copies locales au cas où ces versions ne seraient plus disponibles en ligne. -->
	<!--
	<script type="text/javascript" src="lib/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="lib/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="lib/jquery-ui.min.css">
	-->
	<!-- J'utilise le CDN de Google car GitHub limite les transferts de données des GitHub Pages -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

	<!-- jQueryUI Touch Punch -->
	<script type="text/javascript" src="lib/jquery.ui.touch-punch.min.js"></script>

	<!-- Bootstrap -->
	<!-- <link rel="stylesheet" href="lib/bootstrap.min.css"> -->
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- CSS spécifique -->
	<link rel="stylesheet" href="css/style1.css">
</head>
<body>
	<h1>Théorie des poutres <br><small>(en développement)</small></h1>


	<div id="menus" class="row">

		<div id="menuLiaisons" class="col-sm-6">
			<h3>Liaisons</h3>
			<div class="row">
				<div class="col-xs-4">
					<h4>Appui</h4>
					<!-- <img src="" alt="Appui"> -->
					<span id="cl_distri_appui" class="cl_distributeur"></span>
					<p class="small">Bloque 1 <ddl></ddl> de translation</p>
				</div>
				<div class="col-xs-4">
					<h4>Pivot</h4>
					<!-- <img src="" alt="Pivot"> -->
					<span id="cl_distri_pivot" class="cl_distributeur"></span>
					<p class="small">Bloque 2 <ddl></ddl> de translation</p>
				</div>
				<div class="col-xs-4">
					<h4>Encastrement</h4>
					<!-- <img src="" alt="Encastrement"> -->
					<span id="cl_distri_encastrement" class="cl_distributeur"></span>
					<p class="small">Bloque 2 <ddl></ddl> de translation et 1 <ddl></ddl> de rotation</p>
				</div>
			</div>
		</div>

		<div id="menuChargements" class="col-sm-6">
			<h3>Chargements</h3>
			<div class="row">
				<div class="col-xs-3">
					<h4>Force concentrée</h4>
					<!-- <img src="img/" alt="Force concentrée"> -->
					<span id="ch_distri_f_c" class="ch_distributeur"></span>
				</div>
				<div class="col-xs-3">
					<h4>Force répartie</h4>
					<!-- <img src="img/" alt="Force répartie"> -->
					<span id="ch_distri_f_r" class="ch_distributeur"></span>
				</div>
				<div class="col-xs-3">
					<h4>Moment concentré</h4>
					<!-- <img src="img/" alt="Moment concentré"> -->
					<span id="ch_distri_m_c" class="ch_distributeur"></span>
				</div>
				<div class="col-xs-3">
					<h4>Moment réparti</h4>
					<!-- <img src="img/" alt="Moment réparti"> -->
					<span id="ch_distri_m_r" class="ch_distributeur"></span>
				</div>
			</div>
		</div>
		
	</div>

	<div id="debug-tools" class="container-fluid" style="background-color: gray; display: none;">
		<h4>Outils de débugage</h4>
		<p>La poutre <span id="estIso">n'est pas</span> isostatique.</p>
		<!-- <button onclick="alert(poutre.isostatique())">Isostatique ?</button> -->
		<button onclick="update_defo()">Update déformée</button>
		<button onclick="poutre.liaisons.forEach(function(val, cle) {console.log(val)})">Liste liaisons</button>
		<button onclick="poutre.chargements.forEach(function(val, cle) {console.log(val)})">Liste chargements</button>
		<button onclick="set_beam_frame()">Réajuster canvas</button>
		<button onclick="$('#zone_drop_barre').css({'position':'absolute','background-color':''})">-</button>
		<button onclick="$('#zone_drop_barre').css({'position':'relative','background-color':'white'})">=</button>
	</div>

	<div class="container-fluid"><br></div>

	<!-- Configuration initiale, liaisons et chargements -->
	<div id="zone_drop_barre" class="frozen">
		<div id="barre"></div>
		<!-- Les liaisons et les chargements seront insérés ici -->
	</div>

	<!-- Tracé de la déformée -->
	<canvas id="canvas_defo" class="frozen">Erreur : ce navigateur ne prend pas en charge <code>canvas</code>.</canvas>

	<!-- Checkbox pour fixer l'échelle -->
	<div class="container-fluid">
		 <label><input type="checkbox" id="checkbox_fixer_echelle" onchange="glob.param.amplitude_fixee=this.checked;update_defo()"/> Fixer l'échelle</label>
		 <label><input type="checkbox" id="checkbox_afficher_efforts_liaison" onchange="glob.param.showLinkingReactions=this.checked;update_defo()"/> Afficher les efforts de liaison</label>
	</div>

	<canvas id="canvas_effort_N" title="Effort normal (N)" class="frozen">Erreur : ce navigateur ne prend pas en charge <code>canvas</code>.</canvas>
	<canvas id="canvas_effort_T" title="Effort tranchant (Ty)" class="frozen">Erreur : ce navigateur ne prend pas en charge <code>canvas</code>.</canvas>
	<canvas id="canvas_effort_M" title="Moment de flexion (Mz)" class="frozen">Erreur : ce navigateur ne prend pas en charge <code>canvas</code>.</canvas>

	<!-- Boîte de dialogue d'information -->
	<div id="dialog-info" title="Informations">
		<p>Placer les liaisons et les chargements sur la poutre (en gris) par glisser-déposer.</p>
		<p>Le bord du cadre s'affiche en rouge tant que le système n'est pas isostatique.</p>
		<p><strong>→ Pour signaler un bug ou nous faire part de vos remarques :</strong> <a href="https://docs.google.com/forms/d/e/1FAIpQLSeyA6_NMe7JazH_YkxBdzbqQlZnnhDKP0FmmtwdYFHxzK0XyA/viewform?usp=sf_link">Google Form</a></p>
		<p><strong>→ Pour contribuer :</strong> <a href="https://github.com/selakant/appli-poutre">GitHub du projet</a></p>
	</div>

	<!-- Bouton Informations -->
	<button class="btn btn-default btn-sm" id="bt-info" onclick="$( '#dialog-info' ).dialog('open');"><span class="glyphicon glyphicon-info-sign"></span></button>

	<!-- Scripts -->
	<script type="text/javascript" src="js/debug.js"></script>
	<script type="text/javascript" src="js/canvas_arrow.js"></script>
	<script type="text/javascript" src="js/array_math.js"></script>
	<script type="text/javascript" src="js/glob.js"></script>
	<script type="text/javascript" src="js/rdm.js"></script>
	<script type="text/javascript" src="js/control.js"></script>
	<script>
	$( function() {
		// Boîte de dialogue d'information
		$( "#dialog-info" ).dialog();
		$( "#dialog-info" ).dialog({closeText: "Fermer", minWidth: 300, minHeight: 160, resizable: false});
		$( "#dialog-info" ).dialog("close");

		// Checkbox décochées par défaut
		$("#checkbox_fixer_echelle").prop("checked", false);
		$("#checkbox_afficher_efforts_liaison").prop("checked", false);

		// debug();
	} );
	</script>
</body>
</html>